# Tmux configuration with Solarized Osaka theme and tabbed features
# Optimized for AI workloads

# Basic settings
set -g base-index 1
set -g pane-base-index 1
set -s escape-time 10
set -s focus-events on

# Terminal colors and Solarized Osaka theme
set -as terminal-features ',xterm-256color:RGB'
set -g default-terminal 'screen-256color'

# Solarized Osaka colors
set -g status-bg '#002b36'
set -g status-fg '#93a1a1'
set -g message-bg '#073642'
set -g message-fg '#93a1a1'
set -g pane-active-border-style "fg=#268bd2,bg=default"
set -g pane-border-style "fg=#073642,bg=default"
set -g window-status-current-style "fg=#b58900,bg=#073642"

# Status bar configuration (tabbed appearance)
set -g status-position bottom
set -g status-left-length 20
set -g status-right-length 50
set -g status-justify centre

# Tab-like status bar
set -g status-left ' #S '
set -g window-status-format ' #I:#W '
set -g window-status-current-format ' #I:#W '
set -g status-right ' "#{=21:pane_title}" %H:%M '

# Mouse support and copy mode
set -g mouse on
setw -g mode-keys vi

# Navigation and pane management
bind-key -n M-h select-pane -L
bind-key -n M-j select-pane -D
bind-key -n M-k select-pane -U
bind-key -n M-l select-pane -R

# Window/Tab navigation
bind -n M-left  previous-window
bind -n M-right next-window
bind -n M-H    previous-window
bind -n M-L    next-window

# Create windows/tabs
bind -n M-t new-window -c "#{pane_current_path}"
bind -n M-w kill-window

# Split panes
bind -n M-- split-window -v -c "#{pane_current_path}"
bind -n M-\| split-window -h -c "#{pane_current_path}"

# Resize panes
bind -n M-Left resize-pane -L 2
bind -n M-Right resize-pane -R 2
bind -n M-Up resize-pane -U 2
bind -n M-Down resize-pane -D 2

# Copy mode improvements
bind -n M-Enter copy-mode
bind -T copy-mode-vi v send -X begin-selection
bind -T copy-mode-vi y send -X copy-selection-and-cancel
bind -T copy-mode-vi r send -X rectangle-toggle

# Performance optimizations for AI workloads
set -g @continuum-save-interval '0'
set -g @resurrect-save-bash-history 'off'
set -g @resurrect-capture-pane-contents 'off'

# Activity monitoring
set -g monitor-activity on
set -g visual-activity off

# History limit
set -g history-limit 50000

# Reload configuration
bind-key r source-file ~/.tmux.conf \; display-message "~/.tmux.conf reloaded"

# Plugin manager configuration (if using tpm)
# List of plugins
set -g @tpm_plugins ' \
    tmux-plugins/tpm \
    tmux-plugins/tmux-sensible \
    tmux-plugins/tmux-resurrect \
'

# Initialize TMUX plugin manager (keep at bottom of config)
if "test ! -d ~/.tmux/plugins/tpm" \
   "run 'git clone https://github.com/tmux-plugins/tpm ~/.tmux/plugins/tpm && ~/.tmux/plugins/tpm/bin/install_plugins'"
